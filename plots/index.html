<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="plot" style="width:600px;height:250px;"></div>

<script src="https://cdn.plot.ly/plotly-2.6.3.min.js"></script>

<script>
    t = []
    n = []

    PLOT = document.getElementById('plot');
    Plotly.newPlot(PLOT, [{x: t, y: n }], { margin: { t: 0 } } )

    // load file
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", "../reports/AP4.txt", false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
                var allText = rawFile.responseText;
                var lines = allText.split('\n');
                for(var line = 0; line < lines.length; line++){
                    console.log(lines[line]);

                    t_data = lines[line].split(' ')[0]
                    n_data = lines[line].split(' ')[1]

                    console.log(t_data);
                    console.log(n_data);

                    t.push(t_data);
                    n.push(n_data);

                    Plotly.newPlot(PLOT, [{x: t, y: n }], { margin: { t: 0 } } )
                }
            }
        }
    }
    rawFile.send(null);
</script>
</body>
</html>